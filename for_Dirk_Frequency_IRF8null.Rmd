---
title: "Notes on calcium data"
author: "Simo"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
	echo = FALSE,
	message = FALSE,
	warning = FALSE
)
library(pacman)
p_load(utils, dplyr, tidyverse, ggplot2, plotly, tidyr, reshape2, factoextra, ggdendro,
       grid, RcppCNPy, cowplot, ggpubr, mmand, rstudioapi, reticulate, tcltk, ggfortify,
       ggpubr, factoextra, parallel, ggpattern, ggsignif, car, gtools, ggpattern, kableExtra)
load(file = "25Apr2024.RData")
```

## Main points for frequency (events/min) {.tabset}
- Neurons of AKT1 fish display higher frequency than CTRL fish
- Preneoplastic cells of AKT1 fish show normal frequency
- Removing microglia (IRF8-/- mutants) reduces neuron frequency in AKT1 to CTRL levels


### Frequency of events
#### Frequency in IRF8+/+ (as events/min) in NBT cells (RFP excluded)

```{r CTRL vs AKT1 vs HRASV12 Frequency of events/min all cells, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='AKT1 fish hindbrains show higher frequency as events per minute'}
CTRL_AKT1_HRASV12_frequency_merged_data.df.plt
```


#### In RFP cells only, all IRF8+/+ conditions over time

```{r all conditions over time RFP only, echo=FALSE, message=FALSE, warning=FALSE, fig.cap="RFP cells show similar freq among groups"}
CTRL_AKT1_HRASV12.frequency.RFP.df.plt
```

#### IRF8-/- mutants, frequency in NBT cells (RFP excluded)
```{r AKT1 vs AKT1_IRF8null frequency, echo=FALSE, message=FALSE, warning=FALSE, fig.cap="IRF8null fish in AKT1 conditions display frequency levels as low as CTRL"}
AKT1_AKT1null_frequency_merged_data.df.plt
```



```{r CTRL vs CTRL_IRF8null vs AKT1_IRF8null, echo=FALSE, message=FALSE, warning=FALSE}
CTRL_CTRLnull_AKT1_AKT1null_frequency_merged_data.df.plt
```

#### IRF8-/- mutants, redcells only
```{r all genos IRF8mut redcells only, message=FALSE, warning=FALSE}
CTRL.RFP_CTRLnull.RFP_AKT1.RFP_AKT1null.RFP_frequency_merged_data.df.plt
```

### Clustering Coefficient
#### In the general population (ALL NBT cells, redcells excluded)
```{r all_genos_clustcoeff, message=FALSE, warning=FALSE, fig.cap="Similar clustering coefficient progression up to 8dpf, where HRASV12+ fish are more heterogenous; still not significant"}
CTRL_AKT1_HRASV12.clustcoeff_merged_data.df.plt
```
#### In redcells only
```{r Clustering coefficient in redcells only, message=FALSE, warning=FALSE, fig.cap="not sure of this one, there are too many C(g) that are equal to 0 so this could mean that some conditions are weighed down a lot for that, and while the C(g) is calculated using an average, it should account to graph sizes differences but I think this might need further normalization"}
CTRL_AKT1_HRASV12.clustcoeff.RFP.df.plt
```
#### IRF8-/- mutants
```{r all genos clustcoeff with IRF8nulls, message=FALSE, warning=FALSE, fig.cap="Clustering coefficient show drastic changes (p<0.001) in AKT1 IRF8null fish"}
tracked.CTRL_vs_AKT1_vs_CTRL_IRF8null_AKT1_IRF8null.clustcoeff.plt
```

